"use strict";(self.webpackChunkcar_rental=self.webpackChunkcar_rental||[]).push([[170],{170:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var a,r,i,o,c=t(3433),l=t(9439),u=t(2791),s=t(1243),p=t(815),m=t(168),d=t(5706),f=d.Z.div(a||(a=(0,m.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  gap: 29px;\n  margin-bottom: 50px;\n"]))),x=t(184),g=function(e){var n=e.carBrands,t=e.onFilterChange,a=(0,u.useState)(""),r=(0,l.Z)(a,2),i=r[0],o=r[1];return(0,x.jsx)(f,{children:(0,x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.brand.value,a=parseFloat(i),r=""===e.target.minMileage.value.trim()?-1/0:parseFloat(e.target.minMileage.value),o=parseFloat(e.target.maxMileage.value);t({brand:n,maxPrice:a,minMileage:r,maxMileage:o})},children:[(0,x.jsxs)("select",{name:"brand",children:[(0,x.jsx)("option",{value:"",children:"Enter the text"}),n.map((function(e){return(0,x.jsx)("option",{value:e,children:e},e)}))]}),(0,x.jsx)("input",{type:"number",name:"maxPrice",placeholder:"To $",value:i,onChange:function(e){o(e.target.value)}}),(0,x.jsx)("label",{children:"\u0421ar mileage / km"}),(0,x.jsx)("input",{type:"number",name:"minMileage",placeholder:"From"}),(0,x.jsx)("input",{type:"number",name:"maxMileage",placeholder:"To"}),(0,x.jsx)("button",{type:"submit",children:"Search"})]})})},h=t(5834),v=d.Z.div(r||(r=(0,m.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  gap: 29px;\n  margin-bottom: 100px;\n"]))),b=d.Z.div(i||(i=(0,m.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: 20px;\n"]))),Z=d.Z.button(o||(o=(0,m.Z)(["\n  width: 274px;\n  padding: 12px 0;\n  color: #fff;\n  font-family: Manrope;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 20px;\n  border-radius: 12px;\n  background: #5a7aaf;\n  border: none;\n  cursor: pointer;\n  outline: none;\n  margin-top: 18px;\n  box-shadow: 0px 3.43693px 3.43693px 0px rgba(0, 0, 0, 0.25);\n\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    background: #445c84;\n  }\n\n  @media (min-width: 768px) {\n    margin-top: 24px;\n  }\n  @media (min-width: 1440px) {\n    margin-top: 28px;\n  }\n"]))),j=function(){var e=(0,u.useState)([]),n=(0,l.Z)(e,2),t=n[0],a=n[1],r=(0,u.useState)([]),i=(0,l.Z)(r,2),o=i[0],m=i[1],d=(0,u.useState)([]),f=(0,l.Z)(d,2),j=f[0],S=f[1],w=(0,u.useState)([]),y=(0,l.Z)(w,2),k=y[0],M=y[1],F=(0,u.useState)(8),C=(0,l.Z)(F,2),P=C[0],E=C[1],L=(0,u.useState)(1),z=(0,l.Z)(L,2),B=z[0],I=z[1],J=(0,u.useState)(0),N=(0,l.Z)(J,2),O=N[0],T=N[1],_=(0,u.useState)([]),D=(0,l.Z)(_,2),$=D[0],q=D[1];(0,u.useEffect)((function(){s.Z.get("https://648cbfdc8620b8bae7ed56b5.mockapi.io/advert").then((function(e){var n=e.data,t=(0,c.Z)(new Set(n.map((function(e){return e.make})))),r=(0,c.Z)(new Set(n.map((function(e){return 10*Math.ceil(e.rentalPrice/10)}))));S(t),M(r),a(n),m(n.slice(0,P)),T(n.length-P)})).catch((function(e){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445:",e)}))}),[P]),(0,u.useEffect)((function(){var e=localStorage.getItem("favorites");e&&q(JSON.parse(e))}),[]);var A=function(e,n){var t=n?[].concat((0,c.Z)($),[e]):$.filter((function(n){return n!==e}));q(t),localStorage.setItem("favorites",JSON.stringify(t))};return(0,x.jsx)("div",{children:(0,x.jsxs)(h.Z,{children:[(0,x.jsx)(g,{carBrands:j,carPrices:k,onFilterChange:function(e){var n=e.brand,a=e.maxPrice,r=e.minMileage,i=e.maxMileage,o=t.filter((function(e){var t=!n||e.make.toLowerCase()===n.toLowerCase(),o=!a||e.rentalPrice<=a,c=!r||e.mileage>=parseFloat(r),l=!i||e.mileage<=parseFloat(i);return t&&o&&c&&l}));m(o),T(o.length-P)}}),(0,x.jsx)(v,{children:o.map((function(e){return(0,x.jsx)("div",{children:(0,x.jsx)(p.Z,{car:e,isFavoriteProp:$.includes(e.id),updateFavorites:A})},e.id)}))}),O>0&&(0,x.jsx)(b,{children:(0,x.jsx)(Z,{onClick:function(){var e=P+8,n=t.slice(P*B,e*B);E(e),O-n.length>0?(m((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(n))})),I((function(e){return e+1}))):(m((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(n.slice(0,O)))})),T(0))},children:"Load more"})})]})})}}}]);
//# sourceMappingURL=170.adf602e9.chunk.js.map