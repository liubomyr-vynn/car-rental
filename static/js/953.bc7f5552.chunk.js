"use strict";(self.webpackChunkcar_rental=self.webpackChunkcar_rental||[]).push([[953],{953:function(e,a,n){n.r(a),n.d(a,{default:function(){return o}});var r=n(433),t=n(439),i=n(791),l=n(243),c=n(184),s=function(e){var a=e.car,n=a.address.split(", "),r=n[1],t=n[2];return(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{children:[a.make,a.model,",",a.year]}),(0,c.jsx)("div",{children:a.rentalPrice})]}),(0,c.jsxs)("div",{children:[r,t,a.rentalCompany,"Premium"]}),(0,c.jsxs)("div",{children:[a.type,a.model,a.id,a.accessories[a.accessories.length-1]]})]}),(0,c.jsx)("button",{type:"button",children:"Learn more"})]})},u=function(e){var a=e.carBrands,n=e.onFilterChange,r=(0,i.useState)(""),l=(0,t.Z)(r,2),s=l[0],u=l[1];return(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=e.target.brand.value,r=parseFloat(s),t=""===e.target.minMileage.value.trim()?-1/0:parseFloat(e.target.minMileage.value),i=parseFloat(e.target.maxMileage.value);n({brand:a,maxPrice:r,minMileage:t,maxMileage:i})},children:[(0,c.jsxs)("select",{name:"brand",children:[(0,c.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0430\u0440\u043a\u0443 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f"}),a.map((function(e){return(0,c.jsx)("option",{value:e,children:e},e)}))]}),(0,c.jsx)("input",{type:"number",name:"minMileage",placeholder:"\u041f\u0440\u043e\u0431\u0456\u0433 \u0432\u0456\u0434"}),(0,c.jsx)("input",{type:"number",name:"maxMileage",placeholder:"\u041f\u0440\u043e\u0431\u0456\u0433 \u0434\u043e"}),(0,c.jsx)("input",{type:"number",name:"maxPrice",placeholder:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430 \u0446\u0456\u043d\u0430",value:s,onChange:function(e){u(e.target.value)}}),(0,c.jsx)("button",{type:"submit",children:"\u0424\u0456\u043b\u044c\u0442\u0440\u0443\u0432\u0430\u0442\u0438"})]})},o=function(){var e=(0,i.useState)([]),a=(0,t.Z)(e,2),n=a[0],o=a[1],d=(0,i.useState)([]),m=(0,t.Z)(d,2),p=m[0],h=m[1],x=(0,i.useState)([]),v=(0,t.Z)(x,2),f=v[0],g=v[1],j=(0,i.useState)([]),b=(0,t.Z)(j,2),M=b[0],k=b[1];(0,i.useEffect)((function(){l.Z.get("https://648cbfdc8620b8bae7ed56b5.mockapi.io/advert").then((function(e){var a=e.data,n=(0,r.Z)(new Set(a.map((function(e){return e.make})))),t=(0,r.Z)(new Set(a.map((function(e){return 10*Math.ceil(e.rentalPrice/10)}))));g(n),k(t),o(a),h(a)})).catch((function(e){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445:",e)}))}),[]);return(0,c.jsxs)("div",{children:[(0,c.jsx)(u,{carBrands:f,carPrices:M,onFilterChange:function(e){var a=e.brand,r=e.maxPrice,t=e.minMileage,i=e.maxMileage,l=n.filter((function(e){var n=!a||e.make.toLowerCase()===a.toLowerCase(),l=!r||e.rentalPrice<=r,c=!t||e.mileage>=parseFloat(t),s=!i||e.mileage<=parseFloat(i);return n&&l&&c&&s}));h(l)}}),(0,c.jsx)("ul",{children:p.map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)(s,{car:e})},e.id)}))})]})}}}]);
//# sourceMappingURL=953.bc7f5552.chunk.js.map