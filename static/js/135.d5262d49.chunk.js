"use strict";(self.webpackChunkcar_rental=self.webpackChunkcar_rental||[]).push([[135],{135:function(e,n,t){t.r(n),t.d(n,{default:function(){return o}});var a=t(433),r=t(439),i=t(791),c=t(243),l=t(184),s=function(e){var n=e.car,t=n.address.split(", "),a=t[1],r=t[2];return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{children:[n.make,n.model,",",n.year]}),(0,l.jsx)("div",{children:n.rentalPrice})]}),(0,l.jsxs)("div",{children:[a,r,n.rentalCompany,"Premium"]}),(0,l.jsxs)("div",{children:[n.type,n.model,n.id,n.accessories[n.accessories.length-1]]})]}),(0,l.jsx)("button",{type:"button",children:"Learn more"})]})},u=function(e){var n=e.carBrands,t=e.onFilterChange,a=(0,i.useState)(""),c=(0,r.Z)(a,2),s=c[0],u=c[1];return(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.brand.value,a=parseFloat(s),r=""===e.target.minMileage.value.trim()?-1/0:parseFloat(e.target.minMileage.value),i=parseFloat(e.target.maxMileage.value);t({brand:n,maxPrice:a,minMileage:r,maxMileage:i})},children:[(0,l.jsxs)("select",{name:"brand",children:[(0,l.jsx)("option",{value:"",children:"Enter the text"}),n.map((function(e){return(0,l.jsx)("option",{value:e,children:e},e)}))]}),(0,l.jsx)("input",{type:"number",name:"maxPrice",placeholder:"To $",value:s,onChange:function(e){u(e.target.value)}}),(0,l.jsx)("label",{children:"\u0421ar mileage / km"}),(0,l.jsx)("input",{type:"number",name:"minMileage",placeholder:"From"}),(0,l.jsx)("input",{type:"number",name:"maxMileage",placeholder:"To"}),(0,l.jsx)("button",{type:"submit",children:"Search"})]})},o=function(){var e=(0,i.useState)([]),n=(0,r.Z)(e,2),t=n[0],o=n[1],d=(0,i.useState)([]),m=(0,r.Z)(d,2),h=m[0],p=m[1],x=(0,i.useState)([]),f=(0,r.Z)(x,2),v=f[0],g=f[1],j=(0,i.useState)([]),b=(0,r.Z)(j,2),Z=b[0],S=b[1],k=(0,i.useState)(8),M=(0,r.Z)(k,2),C=M[0],y=M[1],F=(0,i.useState)(1),P=(0,r.Z)(F,2),w=P[0],L=P[1],B=(0,i.useState)(0),E=(0,r.Z)(B,2),T=E[0],_=E[1];(0,i.useEffect)((function(){c.Z.get("https://648cbfdc8620b8bae7ed56b5.mockapi.io/advert").then((function(e){var n=e.data,t=(0,a.Z)(new Set(n.map((function(e){return e.make})))),r=(0,a.Z)(new Set(n.map((function(e){return 10*Math.ceil(e.rentalPrice/10)}))));g(t),S(r),o(n),p(n.slice(0,C)),_(n.length-C)})).catch((function(e){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445:",e)}))}),[C]);return(0,l.jsxs)("div",{children:[(0,l.jsx)(u,{carBrands:v,carPrices:Z,onFilterChange:function(e){var n=e.brand,a=e.maxPrice,r=e.minMileage,i=e.maxMileage,c=t.filter((function(e){var t=!n||e.make.toLowerCase()===n.toLowerCase(),c=!a||e.rentalPrice<=a,l=!r||e.mileage>=parseFloat(r),s=!i||e.mileage<=parseFloat(i);return t&&c&&l&&s}));p(c),_(c.length-C)}}),(0,l.jsx)("ul",{children:h.map((function(e){return(0,l.jsx)("li",{children:(0,l.jsx)(s,{car:e})},e.id)}))}),T>0&&(0,l.jsx)("button",{onClick:function(){var e=C+8,n=t.slice(C*w,e*w);y(e),T-n.length>0?(p((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(n))})),L((function(e){return e+1}))):(p((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(n.slice(0,T)))})),_(0))},children:"Load more"})]})}}}]);
//# sourceMappingURL=135.d5262d49.chunk.js.map