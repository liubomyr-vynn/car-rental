"use strict";(self.webpackChunkcar_rental=self.webpackChunkcar_rental||[]).push([[170],{170:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var a,r,i,c=t(3433),l=t(9439),o=t(2791),u=t(1243),s=t(815),f=t(168),m=t(5706),p=m.Z.div(a||(a=(0,f.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  gap: 29px;\n  margin-bottom: 50px;\n"]))),d=t(184),x=function(e){var n=e.carBrands,t=e.onFilterChange,a=(0,o.useState)(""),r=(0,l.Z)(a,2),i=r[0],c=r[1];return(0,d.jsx)(p,{children:(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.brand.value,a=parseFloat(i),r=""===e.target.minMileage.value.trim()?-1/0:parseFloat(e.target.minMileage.value),c=parseFloat(e.target.maxMileage.value);t({brand:n,maxPrice:a,minMileage:r,maxMileage:c})},children:[(0,d.jsxs)("select",{name:"brand",children:[(0,d.jsx)("option",{value:"",children:"Enter the text"}),n.map((function(e){return(0,d.jsx)("option",{value:e,children:e},e)}))]}),(0,d.jsx)("input",{type:"number",name:"maxPrice",placeholder:"To $",value:i,onChange:function(e){c(e.target.value)}}),(0,d.jsx)("label",{children:"\u0421ar mileage / km"}),(0,d.jsx)("input",{type:"number",name:"minMileage",placeholder:"From"}),(0,d.jsx)("input",{type:"number",name:"maxMileage",placeholder:"To"}),(0,d.jsx)("button",{type:"submit",children:"Search"})]})})},g=t(5834),h=m.Z.div(r||(r=(0,f.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  gap: 29px;\n"]))),v=m.Z.div(i||(i=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: 20px;\n"]))),Z=function(){var e=(0,o.useState)([]),n=(0,l.Z)(e,2),t=n[0],a=n[1],r=(0,o.useState)([]),i=(0,l.Z)(r,2),f=i[0],m=i[1],p=(0,o.useState)([]),Z=(0,l.Z)(p,2),j=Z[0],b=Z[1],S=(0,o.useState)([]),y=(0,l.Z)(S,2),w=y[0],F=y[1],M=(0,o.useState)(8),k=(0,l.Z)(M,2),C=k[0],P=k[1],E=(0,o.useState)(1),L=(0,l.Z)(E,2),B=L[0],I=L[1],J=(0,o.useState)(0),N=(0,l.Z)(J,2),O=N[0],T=N[1],_=(0,o.useState)([]),D=(0,l.Z)(_,2),$=D[0],q=D[1];(0,o.useEffect)((function(){u.Z.get("https://648cbfdc8620b8bae7ed56b5.mockapi.io/advert").then((function(e){var n=e.data,t=(0,c.Z)(new Set(n.map((function(e){return e.make})))),r=(0,c.Z)(new Set(n.map((function(e){return 10*Math.ceil(e.rentalPrice/10)}))));b(t),F(r),a(n),m(n.slice(0,C)),T(n.length-C)})).catch((function(e){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445:",e)}))}),[C]),(0,o.useEffect)((function(){var e=localStorage.getItem("favorites");e&&q(JSON.parse(e))}),[]);var z=function(e,n){var t=n?[].concat((0,c.Z)($),[e]):$.filter((function(n){return n!==e}));q(t),localStorage.setItem("favorites",JSON.stringify(t))};return(0,d.jsx)("div",{children:(0,d.jsxs)(g.Z,{children:[(0,d.jsx)(x,{carBrands:j,carPrices:w,onFilterChange:function(e){var n=e.brand,a=e.maxPrice,r=e.minMileage,i=e.maxMileage,c=t.filter((function(e){var t=!n||e.make.toLowerCase()===n.toLowerCase(),c=!a||e.rentalPrice<=a,l=!r||e.mileage>=parseFloat(r),o=!i||e.mileage<=parseFloat(i);return t&&c&&l&&o}));m(c),T(c.length-C)}}),(0,d.jsx)(h,{children:f.map((function(e){return(0,d.jsx)("div",{children:(0,d.jsx)(s.Z,{car:e,isFavoriteProp:$.includes(e.id),updateFavorites:z})},e.id)}))}),O>0&&(0,d.jsx)(v,{children:(0,d.jsx)("button",{onClick:function(){var e=C+8,n=t.slice(C*B,e*B);P(e),O-n.length>0?(m((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(n))})),I((function(e){return e+1}))):(m((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(n.slice(0,O)))})),T(0))},children:"Load more"})})]})})}}}]);
//# sourceMappingURL=170.78e55ee6.chunk.js.map